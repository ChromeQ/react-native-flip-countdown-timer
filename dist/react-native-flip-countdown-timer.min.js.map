{"version":3,"file":"react-native-flip-countdown-timer.min.js","sources":["../src/components/style.js","../src/utils/index.js","../src/components/flip-number/flip-card.js","../src/components/flip-number/card.js","../src/components/flip-number/number-card.js","../src/components/flip-number/index.js","../src/components/flip-number/separator.js","../src/components/countdown-timer.js"],"sourcesContent":["import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n  },\n  numberWrapper: {\n    backgroundColor: '#333333',\n    margin: 3,\n    shadowColor: '#1f1f1f',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowRadius: 2,\n    shadowOpacity: 1,\n    elevation: 5,\n  },\n  card: {\n    flex: 0.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderColor: '#1f1f1f',\n    overflow: 'hidden',\n  },\n  overflowContainer: {\n    overflow: 'hidden',\n  },\n  number: {\n    fontWeight: '700',\n    color: '#cccccc',\n  },\n  flipCard: {\n    position: 'absolute',\n    left: 0,\n    height: '50%',\n    width: '100%',\n    backgroundColor: '#333333',\n    borderColor: '#1f1f1f',\n    backfaceVisibility: 'hidden',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  separator: {\n    marginHorizontal: 5,\n    marginVertical: 10,\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  circle: {\n    height: 5,\n    width: 5,\n    borderRadius: 5,\n    backgroundColor: '#333333',\n  },\n});\n","/* eslint-disable no-bitwise, radix, no-param-reassign */\n/**\n * https://github.com/facebook/react-native/blob/master/Libraries/Utilities/MatrixMath.js\n * */\nimport MatrixMath from 'react-native/Libraries/Utilities/MatrixMath';\n\nconst { createIdentityMatrix } = MatrixMath;\nconst { multiplyInto } = MatrixMath;\n/**\n *  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/PI\n *  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/cos\n *  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sin\n *  https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotateX\n * */\nfunction rotateXMatrix(matrix, deg) {\n  const rad = (Math.PI / 180) * deg;\n  const cos = Math.cos(rad);\n  const sin = Math.sin(rad);\n  const rotate = [1, 0, 0, 0, 0, cos, -sin, 0, 0, sin, cos, 0, 0, 0, 0, 1];\n  multiplyInto(matrix, matrix, rotate);\n}\n\n/**\n *  https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/perspective\n * */\nfunction perspectiveMatrix(matrix, value) {\n  const perspective = createIdentityMatrix();\n  MatrixMath.reusePerspectiveCommand(perspective, value);\n  multiplyInto(matrix, matrix, perspective);\n}\n\n/**\n *  https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate\n * */\nfunction translateMatrix(matrix, origin) {\n  const { x, y, z } = origin;\n  const translate = createIdentityMatrix();\n  MatrixMath.reuseTranslate3dCommand(translate, x, y, z);\n  multiplyInto(matrix, translate, matrix);\n}\n\nfunction untranslateMatrix(matrix, origin) {\n  const { x, y, z } = origin;\n  const unTranslate = createIdentityMatrix();\n  MatrixMath.reuseTranslate3dCommand(unTranslate, -x, -y, -z);\n  multiplyInto(matrix, matrix, unTranslate);\n}\n\nfunction formatTime(hours, minutes, seconds) {\n  if (hours < 10) {\n    hours = `0${hours}`;\n  }\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n  if (seconds < 10) {\n    seconds = `0${seconds}`;\n  }\n  return { hours, minutes, seconds };\n}\n\nfunction convertNumberToTime(number) {\n  const secNum = parseInt(number);\n  const hours = Math.floor(secNum / 3600);\n  const minutes = Math.floor((secNum - hours * 3600) / 60);\n  const seconds = secNum - hours * 3600 - minutes * 60;\n  return { hours, minutes, seconds };\n}\n\n// Convert timestamp or Date to internal hours, minutes and seconds\nfunction convertDateToTime(time) {\n  const now = Date.now();\n  // eslint-disable-next-line no-nested-ternary\n  const target = typeof time === 'number' ? time : time instanceof Date ? time.getTime() : 0;\n\n  const delta = Math.round((target - now) / 1000);\n\n  if (delta <= 0) {\n    return { hours: 0, minutes: 0, seconds: 0 };\n  }\n\n  return convertNumberToTime(delta);\n}\n\nfunction subtractTime(hours, minutes, seconds) {\n  seconds -= 1;\n\n  if (seconds < 0) {\n    if (minutes <= 0 && hours <= 0) {\n      minutes = 0;\n      seconds = 0;\n    } else {\n      minutes -= 1;\n      seconds = 59;\n    }\n  }\n\n  if (minutes < 0) {\n    if (hours <= 0) {\n      hours = 0;\n      minutes = 0;\n    } else {\n      hours -= 1;\n      minutes = 59;\n    }\n  }\n\n  return { hours, minutes, seconds };\n}\n\nexport default {\n  createIdentityMatrix,\n  multiplyInto,\n  rotateXMatrix,\n  perspectiveMatrix,\n  translateMatrix,\n  untranslateMatrix,\n  convertNumberToTime,\n  convertDateToTime,\n  subtractTime,\n  formatTime,\n};\n","import React from 'react';\nimport { Animated, View, Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport style from '../style';\n\nfunction FlipCard({\n  setRef, type, size, number, flipCardStyle, numberStyle,\n}) {\n  return (\n    <Animated.View\n      ref={setRef}\n      style={[style.flipCard,\n        type === 'front'\n          ? {\n            top: 0,\n            borderTopLeftRadius: size / 10,\n            borderTopRightRadius: size / 10,\n            borderBottomWidth: 0.5,\n          }\n          : {\n            top: '50%',\n            borderBottomLeftRadius: size / 10,\n            borderBottomRightRadius: size / 10,\n            borderTopWidth: 0.5,\n          },\n        flipCardStyle,\n      ]}\n    >\n      <View style={style.overflowContainer}>\n        <Text style={[style.number, {\n          transform: [type === 'front' ? { translateY: size * 0.3 } : { translateY: -size * 0.3 }],\n          fontSize: size / 1.5,\n          lineHeight: size / 1.5,\n        }, numberStyle]}\n        >\n          {number}\n        </Text>\n      </View>\n    </Animated.View>\n  );\n}\n\nFlipCard.defaultProps = {\n  flipCardStyle: {},\n  numberStyle: {},\n};\n\nFlipCard.propTypes = {\n  setRef: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired,\n  size: PropTypes.number.isRequired,\n  number: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  flipCardStyle: PropTypes.object,\n  numberStyle: PropTypes.object,\n};\n\nexport default FlipCard;\n","import React from 'react';\nimport { Text, View } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport style from '../style';\n\nfunction Card({\n  type, size, number, cardStyle, numberStyle,\n}) {\n  return (\n    <View style={[style.card, type === 'upper' ? { borderBottomWidth: 0.5 } : { borderTopWidth: 0.5 }, cardStyle]}>\n      <Text style={[style.number, {\n        transform: [type === 'upper' ? { translateY: size * 0.3 } : { translateY: -size * 0.3 }],\n        fontSize: size / 1.5,\n        lineHeight: size / 1.5,\n      }, numberStyle]}\n      >\n        {number}\n      </Text>\n    </View>\n  );\n}\n\nCard.defaultProps = {\n  cardStyle: {},\n  numberStyle: {},\n};\n\nCard.propTypes = {\n  type: PropTypes.string.isRequired,\n  size: PropTypes.number.isRequired,\n  number: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  cardStyle: PropTypes.object,\n  numberStyle: PropTypes.object,\n};\n\nexport default Card;\n","import React from 'react';\nimport { View, Animated, Dimensions } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport style from '../style';\n\nimport TransformUtil from '../../utils';\nimport FlipCard from './flip-card';\nimport Card from './card';\n\nconst { width } = Dimensions.get('window');\n\nclass NumberCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.rotateFront = new Animated.Value(0);\n    this.rotateBack = new Animated.Value(-180);\n\n    this.frontRef = null;\n    this.backRef = null;\n  }\n\n  componentDidMount() {\n    const { size } = this.props;\n    this.rotateFront.addListener(({ value }) => {\n      this.transformRef(this.frontRef, value, size * 0.3);\n    });\n\n    this.rotateBack.addListener(({ value }) => {\n      this.transformRef(this.backRef, value, -size * 0.3);\n    });\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { previousNumber } = this.props;\n    if (nextProps.previousNumber !== previousNumber) {\n      this.animateTick();\n    }\n    return true;\n  }\n\n  setFrontRef = (ref) => {\n    this.frontRef = ref;\n  }\n\n  setBackRef = (ref) => {\n    this.backRef = ref;\n  }\n\n  animateTick = () => {\n    this.rotateFront.setValue(0);\n    this.rotateBack.setValue(-180);\n    Animated.parallel([\n      Animated.timing(this.rotateFront, {\n        toValue: 180,\n        duration: 800,\n        useNativeDriver: true,\n      }),\n      Animated.timing(this.rotateBack, {\n        toValue: 0,\n        duration: 800,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  }\n\n  transformRef = (ref, deg, y) => {\n    const { perspective } = this.props;\n    const matrix = TransformUtil.createIdentityMatrix();\n    TransformUtil.translateMatrix(matrix, { x: 0, y, z: 0 });\n    TransformUtil.perspectiveMatrix(matrix, perspective);\n    TransformUtil.rotateXMatrix(matrix, deg);\n    TransformUtil.untranslateMatrix(matrix, { x: 0, y, z: 0 });\n    if (ref) {\n      ref.setNativeProps({ style: { transform: [{ matrix }] } });\n    }\n  }\n\n  render() {\n    const {\n      number, previousNumber, size, numberWrapperStyle, cardStyle, flipCardStyle, numberStyle,\n    } = this.props;\n    return (\n      <View style={[style.numberWrapper,\n        { width: size * 0.8, height: size * 1.2, borderRadius: size / 10 },\n        numberWrapperStyle]}\n      >\n        <Card\n          type=\"upper\"\n          size={size}\n          number={previousNumber}\n          cardStyle={cardStyle}\n          numberStyle={numberStyle}\n        />\n        <Card\n          type=\"lower\"\n          size={size}\n          number={number}\n          cardStyle={cardStyle}\n          numberStyle={numberStyle}\n        />\n        <FlipCard\n          setRef={this.setFrontRef}\n          type=\"front\"\n          size={size}\n          number={number}\n          flipCardStyle={flipCardStyle}\n          numberStyle={numberStyle}\n        />\n        <FlipCard\n          setRef={this.setBackRef}\n          type=\"back\"\n          size={size}\n          number={previousNumber}\n          flipCardStyle={flipCardStyle}\n          numberStyle={numberStyle}\n        />\n      </View>\n    );\n  }\n}\n\nNumberCard.defaultProps = {\n  size: width / 6,\n  perspective: 250,\n};\n\nNumberCard.propTypes = {\n  number: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  previousNumber: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  perspective: PropTypes.number,\n  size: PropTypes.number,\n  numberWrapperStyle: PropTypes.object,\n  cardStyle: PropTypes.object,\n  flipCardStyle: PropTypes.object,\n  numberStyle: PropTypes.object,\n};\n\nexport default NumberCard;\n","/* eslint-disable no-param-reassign, radix */\nimport React from 'react';\nimport { View } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport NumberCard from './number-card';\n\nimport style from '../style';\n\nfunction FlipNumber({\n  number,\n  unit,\n  flip,\n  size,\n  perspective,\n  numberWrapperStyle,\n  cardStyle,\n  flipCardStyle,\n  numberStyle,\n  firstRender,\n}) {\n  let previousNumber = number + (flip ? 1 : 0);\n\n  if (firstRender) {\n    previousNumber = number;\n  } else if (unit !== 'hours') {\n    previousNumber = previousNumber === 60 ? 0 : previousNumber;\n  } else {\n    previousNumber = previousNumber === 24 ? 0 : previousNumber;\n  }\n\n  const numberDisplay = number < 10 ? `0${number}` : String(number);\n  const previousNumberDisplay = previousNumber < 10 ? `0${previousNumber}` : String(previousNumber);\n  const numberSplit = numberDisplay.split('');\n  const previousNumberSplit = previousNumberDisplay.split('');\n\n  return (\n    <View style={style.wrapper}>\n      <NumberCard\n        number={previousNumberSplit[0]}\n        previousNumber={numberSplit[0]}\n        size={size}\n        perspective={perspective}\n        numberWrapperStyle={numberWrapperStyle}\n        cardStyle={cardStyle}\n        flipCardStyle={flipCardStyle}\n        numberStyle={numberStyle}\n      />\n      <NumberCard\n        number={previousNumberSplit[1]}\n        previousNumber={numberSplit[1]}\n        size={size}\n        perspective={perspective}\n        numberWrapperStyle={numberWrapperStyle}\n        cardStyle={cardStyle}\n        flipCardStyle={flipCardStyle}\n        numberStyle={numberStyle}\n      />\n    </View>\n  );\n}\n\nFlipNumber.defaultProps = {\n  unit: 'seconds',\n};\n\nFlipNumber.propTypes = {\n  number: PropTypes.number.isRequired,\n  unit: PropTypes.oneOf(['hours', 'minutes', 'seconds']),\n  flip: PropTypes.bool,\n  size: PropTypes.number,\n  perspective: PropTypes.number,\n  numberWrapperStyle: PropTypes.object,\n  cardStyle: PropTypes.object,\n  flipCardStyle: PropTypes.object,\n  numberStyle: PropTypes.object,\n  firstRender: PropTypes.bool,\n};\n\nexport default FlipNumber;\n","import React from 'react';\nimport { View } from 'react-native';\n\nimport style from '../style';\n\nfunction Separator() {\n  return (\n    <View style={style.separator}>\n      <View style={style.circle} />\n      <View style={style.circle} />\n    </View>\n  );\n}\n\nexport default Separator;\n","import React from 'react';\nimport { View } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport FlipNumber from './flip-number';\nimport Separator from './flip-number/separator';\n\nimport TransformUtils from '../utils';\n\nimport style from './style';\n\nclass CountdownTimer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { duration, time } = this.props;\n    const { hours, minutes, seconds } = time !== undefined\n      ? TransformUtils.convertDateToTime(time)\n      : TransformUtils.convertNumberToTime(duration);\n\n    this.state = {\n      hours,\n      minutes,\n      seconds,\n    };\n    this.initialTime = true;\n  }\n\n  componentDidMount() {\n    const { hours, minutes, seconds } = this.state;\n    const { play } = this.props;\n\n    if ((hours || minutes || seconds) && play) {\n      this.timer = setInterval(this.updateTime, 1000);\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { time, duration, play } = this.props;\n\n    if (nextProps.time !== time || nextProps.duration !== duration) {\n      clearInterval(this.timer);\n\n      const newState = nextProps.time !== time\n        ? TransformUtils.convertDateToTime(nextProps.time)\n        : TransformUtils.convertNumberToTime(nextProps.duration);\n\n      this.initialTime = true;\n      this.setState(newState);\n      this.timer = setInterval(this.updateTime, 1000);\n    }\n\n    if (nextProps.play !== play) {\n      clearInterval(this.timer);\n\n      if (nextProps.play) {\n        this.timer = setInterval(this.updateTime, 1000);\n      }\n    }\n\n    return true;\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  updateTime = () => {\n    this.initialTime = false;\n    const { hours, minutes, seconds } = this.state;\n\n    if (hours || minutes || seconds) {\n      const { onComplete } = this.props;\n      const newState = TransformUtils.subtractTime(hours, minutes, seconds);\n\n      this.setState(prevState => ({ ...prevState, ...newState }));\n\n      if (\n        newState.hours === 0\n        && newState.minutes === 0\n        && newState.seconds === 0\n      ) {\n        clearInterval(this.timer);\n        setTimeout(onComplete, 800); // Delay the `onComplete` callback the animation duration\n      }\n    } else if (!hours && !minutes && !seconds) {\n      clearInterval(this.timer);\n    }\n  };\n\n  render() {\n    const {\n      wrapperStyle, flipNumberProps, unitsToShow, separators,\n    } = this.props;\n    const { hours, minutes, seconds } = this.state;\n    const showHours = unitsToShow.includes('H');\n    const showMinutes = unitsToShow.includes('M');\n    const showSeconds = unitsToShow.includes('S');\n\n    return (\n      <View style={[style.wrapper, wrapperStyle]}>\n        {showHours && (\n          <>\n            <FlipNumber\n              number={hours}\n              unit=\"hours\"\n              flip={minutes === 59}\n              firstRender={this.initialTime}\n              {...flipNumberProps}\n            />\n            {separators && <Separator />}\n          </>\n        )}\n\n        {showMinutes && (\n          <>\n            <FlipNumber\n              number={minutes}\n              unit=\"minutes\"\n              flip={seconds === 59}\n              firstRender={this.initialTime}\n              {...flipNumberProps}\n            />\n            {separators && <Separator />}\n          </>\n        )}\n\n        {showSeconds && (\n          <FlipNumber\n            number={seconds}\n            unit=\"seconds\"\n            flip\n            firstRender={this.initialTime}\n            {...flipNumberProps}\n          />\n        )}\n      </View>\n    );\n  }\n}\n\nCountdownTimer.defaultProps = {\n  play: true,\n  wrapperStyle: {},\n  onComplete: () => {},\n  separators: true,\n  unitsToShow: ['H', 'M', 'S'],\n};\n\nCountdownTimer.propTypes = {\n  duration: PropTypes.number,\n  time: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n  play: PropTypes.bool,\n  wrapperStyle: PropTypes.object,\n  flipNumberProps: PropTypes.shape({\n    size: PropTypes.number,\n    perspective: PropTypes.number,\n    numberWrapperStyle: PropTypes.object,\n    cardStyle: PropTypes.object,\n    flipCardStyle: PropTypes.object,\n    numberStyle: PropTypes.object,\n  }),\n  onComplete: PropTypes.func,\n  separators: PropTypes.bool,\n  unitsToShow: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default CountdownTimer;\n"],"names":["StyleSheet","create","wrapper","flexDirection","numberWrapper","backgroundColor","margin","shadowColor","shadowOffset","width","height","shadowRadius","shadowOpacity","elevation","card","flex","alignItems","justifyContent","borderColor","overflow","overflowContainer","number","fontWeight","color","flipCard","position","left","backfaceVisibility","separator","marginHorizontal","marginVertical","circle","borderRadius","createIdentityMatrix","MatrixMath","multiplyInto","convertNumberToTime","secNum","parseInt","hours","Math","floor","minutes","seconds","rotateXMatrix","matrix","deg","rad","PI","cos","sin","perspectiveMatrix","value","perspective","reusePerspectiveCommand","translateMatrix","origin","x","y","z","translate","reuseTranslate3dCommand","untranslateMatrix","unTranslate","convertDateToTime","time","now","Date","target","getTime","delta","round","subtractTime","formatTime","FlipCard","_ref","setRef","type","size","flipCardStyle","numberStyle","React","createElement","Animated","View","ref","style","top","borderTopLeftRadius","borderTopRightRadius","borderBottomWidth","borderBottomLeftRadius","borderBottomRightRadius","borderTopWidth","Text","transform","translateY","fontSize","lineHeight","Card","cardStyle","defaultProps","propTypes","PropTypes","func","isRequired","string","oneOfType","object","Dimensions","get","NumberCard","_React$Component","props","_this","_defineProperty","_assertThisInitialized","call","frontRef","backRef","rotateFront","setValue","rotateBack","parallel","timing","toValue","duration","useNativeDriver","start","TransformUtil","setNativeProps","Value","_inheritsLoose","_proto","prototype","componentDidMount","_this2","this","addListener","transformRef","_ref2","shouldComponentUpdate","nextProps","previousNumber","animateTick","render","_this$props","numberWrapperStyle","setFrontRef","setBackRef","Component","FlipNumber","unit","flip","firstRender","numberDisplay","String","previousNumberDisplay","numberSplit","split","previousNumberSplit","Separator","oneOf","bool","CountdownTimer","initialTime","_this$state","state","onComplete","newState","TransformUtils","setState","prevState","_extends","clearInterval","timer","setTimeout","undefined","_this$state2","play","setInterval","updateTime","_this$props2","componentWillUnmount","_this$props3","wrapperStyle","flipNumberProps","unitsToShow","separators","_this$state3","showHours","includes","showMinutes","showSeconds","Fragment","instanceOf","shape","arrayOf"],"mappings":"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"}